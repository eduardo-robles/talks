<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Securing SSH Keys with MFA</title>
<meta name="author" content="Eduardo Robles"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/beige.css" id="theme"/>

</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Securing SSH Keys with MFA</h1><p class="subtitle"></p>
<h2 class="date">05-21-22</h2><p class="date">Created: 2022-05-14 Sat 17:55</p>
</section>

<section>
<section id="slide-org4bfccdf">
<h2 id="org4bfccdf">About speaker</h2>
<ul>
<li>Hi! I'm Eduardo Robles I work at the City of Pharr Innovation &amp; Technlogy department as a Support Analyst.</li>
<li>Since I was a kid technology was a passion of mine and I wanted to be an inventor.</li>
<li>You can check out my skills over on my Youtube channel or my business blog. <b>Bonus, I give out a lot of free advice over there.</b></li>

</ul>

</section>
</section>
<section>
<section id="slide-org66f16c1">
<h2 id="org66f16c1">Securing SSH Keys with MFA</h2>
<p>
Main Topics:
</p>
<ol>
<li>Demonstrate how to implement MFA on SSH keys</li>
<li>Learn the benefits and downsides to MFA on SSH keys</li>
<li>Some tips/tricks for SSH management</li>

</ol>

</section>
</section>
<section>
<section id="slide-orgff778f3">
<h2 id="orgff778f3">Create SSH Key</h2>
<div class="outline-text-2" id="text-orgff778f3">
</div>
</section>
<section id="slide-org97ef70e">
<h3 id="org97ef70e">Create a "ed25519" key</h3>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>ssh-keygen -t ed25519 -f ~/.ssh/nameofkey -N <span style="color: #f1fa8c;">''</span> -C <span style="color: #f1fa8c;">"comment goes here"</span>
</code></pre>
</div>
</section>
<section id="slide-org87c03b1">
<h3 id="org87c03b1">Create an "RSA" key</h3>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>ssh-keygen -t rsa -f ~/.ssh/nameofkey -N <span style="color: #f1fa8c;">''</span> -C <span style="color: #f1fa8c;">"comment goes here"</span>
</code></pre>
</div>
</section>
<section id="slide-orgbdc87c3">
<h3 id="orgbdc87c3">Explanation</h3>
<ul>
<li>-t option is for the type of keys to be created (ex. ed25519)</li>
<li>-f option is the filename and location of the keys (ex. <code>/path/to/file</code>)</li>
<li>-N is the passphrase to be given, leave blank for no passphrase</li>
<li>-C enter a comment to best find keys later (ex. "github key")</li>

</ul>

</section>
</section>
<section>
<section id="slide-org32a454f">
<h2 id="org32a454f">Demonstrating SSH Key Generation</h2>
</section>
</section>
<section>
<section id="slide-org706dc45">
<h2 id="org706dc45">Adding SSH Key To Agent</h2>
<div class="outline-text-2" id="text-org706dc45">
</div>
</section>
<section id="slide-orge76a3af">
<h4 id="orge76a3af">Check if SSH Agent is running</h4>
<p>
This is to add the keys to the SSH Agent
</p>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim><span style="color: #ffb86c;">eval</span> <span style="color: #f1fa8c;">"$(</span><span style="color: #bd93f9; font-weight: bold;">ssh-agent</span><span style="color: #f1fa8c;"> -s)"</span>
</code></pre>
</div>

</section>
<section id="slide-orgac113f0">
<h4 id="orgac113f0">Add the Keys to SSH Agent</h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>ssh-add ~/.ssh/nameofkey
</code></pre>
</div>

</section>
<section id="slide-org4026835">
<h4 id="org4026835">Verify Keys Added to SSH Agent</h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>ssh-add -l
</code></pre>
</div>

</section>
<section id="slide-org9c5b325">
<h4 id="org9c5b325">Copy Key to Remote Server</h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>ssh-copy-id user@remote.server.location
</code></pre>
</div>

</section>
<section id="slide-org5102749">
<h4 id="org5102749">Copy Server Key to Host</h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>ssh-copy-id user@host.local
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org08b3b6c">
<h2 id="org08b3b6c">SSH Config File - Make SSH Easier</h2>
<p>
Let's look at a typical SSH command.
</p>

<p>
<code>ssh erobles@10.0.3.11 -p 2300 -i ~/.ssh/mykeys</code>
</p>

</section>
<section id="slide-org3510e47">
<h4 id="org3510e47"><code>erobles@10.0.3.11</code> this states our username on the server and the IP/Hostname of the server</h4>

</section>
<section id="slide-orgaf67c52">
<h4 id="orgaf67c52"><code>-p 2300</code> the port we are connecting to on the server</h4>

</section>
<section id="slide-orgb2e0875">
<h4 id="orgb2e0875"><code>-i ~/.ssh/mykeys</code> the Public/Private keys used in the SSH connection</h4>
</section>
</section>
<section>
<section id="slide-orgf5a49df">
<h2 id="orgf5a49df">SSH Config File cont.</h2>
<p>
While this is fine, it can be time consuming and easily forgotten. So let's see how this commands translates to an SSH Config file.
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>HOST myserver
  HostName 10.0.3.11
  User erobles
  Port 2300
  IdentityFile ~/.ssh/mykeys
</code></pre>
</div>
</section>
</section>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.js"></script>
<script src="https://cdn.jsdelivr.net/npm/reveal.js/plugin/markdown/markdown.js"></script>
<script src="https://cdn.jsdelivr.net/npm/reveal.js/plugin/zoom/zoom.js"></script>
<script src="https://cdn.jsdelivr.net/npm/reveal.js/plugin/notes/notes.js"></script>


<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
plugins: [RevealMarkdown, RevealZoom, RevealNotes]
});

</script>
</body>
</html>
